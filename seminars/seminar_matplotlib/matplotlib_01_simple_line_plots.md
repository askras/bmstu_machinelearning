---
jupyter:
  jupytext:
    text_representation:
      extension: .md
      format_name: markdown
      format_version: '1.3'
      jupytext_version: 1.16.4
  kernelspec:
    display_name: Python 3 (ipykernel)
    language: python
    name: python3
---

# Простые линейные графики


Визуализация одной функции $y = f(x)$, пожалуй, самый простой из всех графиков.
В этом разделе рассмотрим создание простого графика такого типа.
Как и во всех последующих разделах, начнем с импорта необходимых пакетов и настройки блокнота для построения графиков:

```python
import matplotlib.pyplot as plt
import numpy as np

%matplotlib inline
plt.style.use('default')
```

Для всех графиков Matplotlib следует начинатьс с создания рисунка и осей.
В простейшем виде рисунок и оси можно создать следующим образом:

```python jupyter={"outputs_hidden": false}
fig = plt.figure()
ax = plt.axes()
```

В Matplotlib *рисунок* (экземпляр класса `plt.Figure`) можно рассматривать как единый контейнер, содержащий все объекты, представляющие оси, графику, текст и метки.
*Система координат* или *оси координа* (экземпляр класса `plt.Axes`) &mdash; это (то, что отображено выше): ограничивающая рамка с делениями и метками, которая в конечном итоге будет содержать элементы графика, составляющие визуализацию.
Обычно, если нет каких-либо особых требований, для ссылки на экземпляр рисунка используется имя переменной `fig`  и `ax` для ссылки на экземпляр оси кординат (или группу экземпляров осей координат).

После того, как созданы, можно использовать функцию `ax.plot` для построения графика функции. 
Начнем с простой синусоиды:

```python jupyter={"outputs_hidden": false}
fig = plt.figure()
ax = plt.axes()

x = np.linspace(0, 10, 1000)
ax.plot(x, np.sin(x));
```

В качестве альтернативы можно было бы использовать интерфейс в стиле MATLAB и позволить ему создать фигуру и оси в фоновом режиме:

```python jupyter={"outputs_hidden": false}
plt.plot(x, np.sin(x));
```

Если необходимо отобразить на одном рисунук сразу несколько линий, можно просто вызвать функцию `plot` несколько раз:

```python jupyter={"outputs_hidden": false}
plt.plot(x, np.sin(x))
plt.plot(x, np.cos(x));
```

Вот и все, что нужно знать о построении графиков простых функций в Matplotlib!
Теперь подробнее рассмотрим, как управлять внешним видом осей и линий.


## Настройка графика: цвета и стили линий


Функция `plt.plot()` принимает дополнительные аргументы, которые можно использовать для настройки цвета и стиля линий.
Для настройки цвета используется именованный аргумент `color`, которое принимает строковый аргумент, задающий практически любой цвет.
Задать цвет можно разными способами:

```python jupyter={"outputs_hidden": false}
plt.plot(x, x - 0, color='blue')        # название цвета
plt.plot(x, x - 1, color='g')           # цветовой код (rgbcmyk)
plt.plot(x, x - 2, color='0.75')        # Оттенки серого от 0 до 1
plt.plot(x, x - 3, color='#FFDD44')     # Шестнадцатеричный код (RRGGBB от 00 до FF)
plt.plot(x, x - 4, color=(1.0,0.2,0.3)) # RGB-кортеж, значения от 0 до 1
plt.plot(x, x - 5, color='chartreuse'); # названия HTML цветов
```

Если цвет не задан, Matplotlib будет автоматически перебирать по циклу набор цветов по умолчанию при наличии на графике нескольких линий.


Стиль линии можно задается именованным аргументом `linestyle`:

```python jupyter={"outputs_hidden": false}
plt.plot(x, x - 0, linestyle='solid') # сплошная линия
plt.plot(x, x - 1, linestyle='dashed') # пунктирная линия
plt.plot(x, x - 2, linestyle='dashdot') # штрихпунктирная линия
plt.plot(x, x - 3, linestyle='dotted'); # штриховая линия
```

```python jupyter={"outputs_hidden": false}
# для краткости можно использовать коды:
plt.plot(x, x - 4, linestyle='-')  # сплошная линия
plt.plot(x, x - 5, linestyle='--') # пунктирная линия
plt.plot(x, x - 6, linestyle='-.') # штрихпунктирная линия
plt.plot(x, x - 7, linestyle=':'); # штриховая линия
```

В предельно лаконичном варианте `linestyle` и `color` можно объединить в один неуменованный аргумент функции `plt.plot()`:

```python jupyter={"outputs_hidden": false}
plt.plot(x, x - 0, '-g')  # сплошная зеленая линия
plt.plot(x, x - 1, '--c') # пунктирная голубая линия
plt.plot(x, x - 2, '-.k') # штрихпунктирная черная линия
plt.plot(x, x - 3, ':r');  # штриховая красная линия
```

Эти односимвольные цветовые коды отражают стандартные сокращения в широко используемых для цифровой цветной графики цветовых системах RGB ((Red/Green/Blue &mdash; красный/зеленый/синий) и CMYK (Cyan/Magenta/Yellow/blacK &mdash; голубой/пурпурный/желтый/черный).

Существует множество других именованных аргументов, которые можно использовать для точной настройки внешнего вида графика, ознакомиться с которыми можно в документации по функции `plt.plot()`.


## Настройка графика: пределы осей координат

Matplotlib достаточно хорошо подбирает пределы по осям координат графика, но иногда необходима более точная настройка.
Самый простой способ настройки пределов осей &mdash; использование методов `plt.xlim()` и `plt.ylim()`:

```python jupyter={"outputs_hidden": false}
plt.plot(x, np.sin(x))

plt.xlim(-1, 11)
plt.ylim(-1.5, 1.5);
```

Если нужно, чтобы оси отображались зеркально, можно указать аргументы в обратном порядке:

```python jupyter={"outputs_hidden": false}
plt.plot(x, np.sin(x))

plt.xlim(10, 0)
plt.ylim(1.2, -1.2);
```

Еще один способ настройки пределов осей координат &mdash; `plt.axis()` (не перепутайте метод `plt.axis()` с методом `plt.axes()`!). Метод `plt.axis()` предоставляет возможность задавать пределы осей X и Y с помощью одного вызова путем передачи списка, в котором
указываются `[xmin, xmax, ymin, ymax]`:

```python jupyter={"outputs_hidden": false}
plt.plot(x, np.sin(x))
plt.axis([-1, 11, -1.5, 1.5]);
```

Еще `plt.axis()` позволяет автоматически подгонять границы к текущему графику:

```python jupyter={"outputs_hidden": false}
plt.plot(x, np.sin(x))
plt.axis('tight');
```

Можно даже настроить соотношение сторон графика так, чтобы выравнять масштаб по осям X и Y:

```python jupyter={"outputs_hidden": false}
plt.plot(x, np.sin(x))
plt.axis('equal');
```

Дополнительную информацию по настройке пределов осей координат и другим возможностям метода `plt.axis()` можно найти в документации по этому методу.


## Метки на графиках

В заключение этого раздела кратко рассмотрим маркирование графиков: заголовки, метки осей и простые легенды.

Заголовки и метки осей являются простейшими из подобных меток.
Рассмотрим методы, позволяющие быстро задавать соответствующие значения:

```python jupyter={"outputs_hidden": false}
plt.plot(x, np.sin(x))
plt.title("Синусоида")
plt.xlabel("$x$")
plt.ylabel("$\\sin(x)$");
```

Положение, размер и стиль этих меток можно настроить с помощью необязательных аргументов этих функций.
Более подробную информацию смотрите в документации Matplotlib и строках документации каждой из этих функций.


Если на одной оси отображается несколько линий, может быть полезно создать легенду графика, маркирующую каждый тип линии.
В Matplotlib это делается с помощью метода `plt.legend()`.
Несмотря на то, что существует несколько возможных способов добавления легенды к линии, лучшим способом является задание метки каждой линии с помощью именованного аргумента слова `label` функции `plot`:

```python jupyter={"outputs_hidden": false}
plt.plot(x, np.sin(x), '-g', label='sin(x)')
plt.plot(x, np.cos(x), ':b', label='cos(x)')
plt.axis('equal')

plt.legend();
```

Функция `plt.legend()` отслеживает стиль и цвет линии и сопоставляет их с правильной меткой.
Более подробную информацию об указании и форматировании легенд графиков можно найти в документации `plt.legend`.
Кроме того, некоторые более продвинутые параметры легенды будут рассмотренв в рассмотрим в [Пользовательские настройки легенд на графиках](matplotlib_06_customizing_legends.md).


## Нюансы использования Matplotlib
Хотя большинство функций `plt` напрямую преобразуются в методы `ax` (например, `plt.plot()` &rarr; `ax.plot()`, `plt.legend()` &rarr; `ax.legend()` и т.д.), это справедливо не всегда.
В частности, по разному называются функции для задания пределов, меток и названий графиков.

Следующий список показывает соответствия между MATLAB-подобным функциями и объектно-ориенти-
рованным методами:

- `plt.xlabel()` &rarr; `ax.set_xlabel()`
- `plt.ylabel()` &rarr; `ax.set_ylabel()`
- `plt.xlim()` &rarr; `ax.set_xlim()`
- `plt.ylim()` &rarr; `ax.set_ylim()`
- `plt.title()` &rarr; `ax.set_title()`

В объектно-ориентированном интерфейсе построения графиков, вместо того, чтобы вызывать эти функции по отдельности, часто удобнее использовать метод `ax.set()`, чтобы задать все эти свойства одновременно:

```python jupyter={"outputs_hidden": false}
ax = plt.axes()
ax.plot(x, np.sin(x))
ax.set(xlim=(0, 10), 
       ylim=(-2, 2),
       xlabel='x', 
       ylabel='sin(x)',
       title='Синусоида'
);
```

```python

```
